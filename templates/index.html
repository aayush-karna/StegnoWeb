{% extends 'layout.html' %}
{% block body %}
{% if errors is not none %}
		{{errors |safe}}
{% endif %}
<div class="alert alert-info">
	<center>Avoid using large image file. As it may be time consuming.</center>
</div>
<div class="container">
	<span style="font-family: 'Oswald', sans-serif;font-size: 30px;">Encode:</span>
	<hr class="mt-0 pt-0">
	<div class="row">
		<div class="col-sm-4">
			<img id="thumbnail" alt="Your image appears here">
		</div>
		<div class="col-sm-8">
			<form action = "/" method = "post" enctype="multipart/form-data">
		  		<div class="form-group">
			    	<label>Upload Picture</label><br>
			    	<input type="file" name="file" onchange="readURL(this)" />
					<!-- <button class="btn btn-secondary" name="button">Upload</button> -->
			  	</div>
			  	<div class="form-group">
				    <label>Message to Decode</label>
				    <input type="text" class="form-control" name="msg" placeholder="Type msg you want to encode in image">
			  	</div>
			    <button class="btn btn-dark btn-block">Encode</button>
			</form>
		</div>
	</div><br><br>
	{% if encoded_img is not none %}
		{{encoded_img | safe}}
	{% endif %}
</div>
<script type="text/javascript">
	function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#thumbnail')
                    .attr('src', e.target.result)
                    .width(200)
                    .height(200);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>

{% endblock%}